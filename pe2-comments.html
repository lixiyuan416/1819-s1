


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://www.comp.nus.edu.sg/~ooiwt/cs1010/1819s1/pe2-comments.html">
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.3">
    
    
      
        <title>PE2 Comments and Answers - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.947af8d5.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pe2-comments-and-answer-keys" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://www.comp.nus.edu.sg/~ooiwt/cs1010/1819s1" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            CS1010 Programming Methodology
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              PE2 Comments and Answers
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://www.comp.nus.edu.sg/~ooiwt/cs1010/1819s1" title="CS1010 Programming Methodology" class="md-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    CS1010 Programming Methodology
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="midterm.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Practical Exams
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Practical Exams" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Practical Exams
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="pe1.html" title="Info About PE1" class="md-nav__link">
      Info About PE1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="pe1-comments.html" title="PE1 Comments and Answers" class="md-nav__link">
      PE1 Comments and Answers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="pe2.html" title="Info About PE2" class="md-nav__link">
      Info About PE2
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        PE2 Comments and Answers
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="pe2-comments.html" title="PE2 Comments and Answers" class="md-nav__link md-nav__link--active">
      PE2 Comments and Answers
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transpose" class="md-nav__link">
    transpose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#palindrome" class="md-nav__link">
    palindrome
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotate" class="md-nav__link">
    rotate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marcell" class="md-nav__link">
    marcell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bracket" class="md-nav__link">
    bracket
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      General
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="General" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="about.html" title="About CS1010" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="outcomes.html" title="Learning Outcomes" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="schedule.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="accounts.html" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="policies.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Notes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="01-program.html" title="1. What is a Program?" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="02-algo.html" title="2. Computational Problem & Algorithms" class="md-nav__link">
      2. Computational Problem &amp; Algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="03-func.html" title="3. Functions" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="04-type.html" title="4. Types" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="05-first-c.html" title="5. First C Program" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="06-cs1010-io.html" title="6. CS1010 I/O Library" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="07-arithmetic-ops.html" title="7. Arithmetic Operations" class="md-nav__link">
      7. Arithmetic Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="08-if-else.html" title="8. If Else" class="md-nav__link">
      8. If Else
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="09-logical-exp.html" title="9. Logical Expression" class="md-nav__link">
      9. Logical Expression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="10-assert.html" title="10. Assertion" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="11-loop.html" title="11. Loops" class="md-nav__link">
      11. Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="12-invariant.html" title="12. Reasoning About Loops" class="md-nav__link">
      12. Reasoning About Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="13-call-stack.html" title="13. Call Stack" class="md-nav__link">
      13. Call Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="14-pointers.html" title="14. Pointers" class="md-nav__link">
      14. Pointers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="15-array.html" title="15. Arrays" class="md-nav__link">
      15. Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="16-string.html" title="16. Strings" class="md-nav__link">
      16. Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="17-call-by-reference.html" title="17. Call by Reference" class="md-nav__link">
      17. Call by Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="18-heap.html" title="18. Heap" class="md-nav__link">
      18. Heap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="19-md-array.html" title="19. Multidimensional Array" class="md-nav__link">
      19. Multidimensional Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="20-macro.html" title="20. C Pre-processing" class="md-nav__link">
      20. C Pre-processing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="21-assert.html" title="21. Assert" class="md-nav__link">
      21. Assert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="22-efficiency.html" title="22. Efficiency" class="md-nav__link">
      22. Efficiency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="23-search.html" title="23. Binary Search" class="md-nav__link">
      23. Binary Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="24-sort.html" title="24. Sorting" class="md-nav__link">
      24. Sorting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="25-tower.html" title="25. Tower of Hanoi" class="md-nav__link">
      25. Tower of Hanoi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="26-permutation.html" title="26. Permutation" class="md-nav__link">
      26. Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="27-queens.html" title="27. N Queens" class="md-nav__link">
      27. N Queens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="28-struct.html" title="28. Structure" class="md-nav__link">
      28. Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="29-stdio.html" title="29. stdio" class="md-nav__link">
      29. stdio
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Exercises
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Exercises" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="ex01.html" title="1. Freezer" class="md-nav__link">
      1. Freezer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex02.html" title="2. Leap, Suffix, Days" class="md-nav__link">
      2. Leap, Suffix, Days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex03.html" title="3. Binary, Rectangle, Fibonacci, Prime" class="md-nav__link">
      3. Binary, Rectangle, Fibonacci, Prime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex04.html" title="4. ID, Grade, Index, Max" class="md-nav__link">
      4. ID, Grade, Index, Max
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex05.html" title="5. Square, Escape, Magic" class="md-nav__link">
      5. Square, Escape, Magic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Assignments
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Assignments" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="assignment.html" title="General Guide" class="md-nav__link">
      General Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as01.html" title="1. Invest, Box, Digits, and Taxi" class="md-nav__link">
      1. Invest, Box, Digits, and Taxi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as02.html" title="2. Collatz, Weekday, Circle, Pattern" class="md-nav__link">
      2. Collatz, Weekday, Circle, Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as03.html" title="3. Kendall, Histogram, CountingSort" class="md-nav__link">
      3. Kendall, Histogram, CountingSort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as04.html" title="4. SelectionSort, Add, Mastermind" class="md-nav__link">
      4. SelectionSort, Add, Mastermind
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as05.html" title="5. Social, Life" class="md-nav__link">
      5. Social, Life
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as06.html" title="6. Permutation 1 2 3" class="md-nav__link">
      6. Permutation 1 2 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as07.html" title="7. Peak, Scripts, Inversion" class="md-nav__link">
      7. Peak, Scripts, Inversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as08.html" title="8. Maze, Fill" class="md-nav__link">
      8. Maze, Fill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as09.html" title="9. Digits" class="md-nav__link">
      9. Digits
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="quiz.html" title="Quizzes" class="md-nav__link">
      Quizzes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Kahoot!
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Kahoot!" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Kahoot!
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="kahoot01.html" title="Flow Charts" class="md-nav__link">
      Flow Charts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="c-in-cs1010.html" title="C in CS1010" class="md-nav__link">
      C in CS1010
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="style.html" title="Style Guide" class="md-nav__link">
      Style Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="documentation.html" title="Documentation Guide" class="md-nav__link">
      Documentation Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="readings.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Software/Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Software/Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="environments.html" title="Programming Environments" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="unix.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="clang.html" title="CLang" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="vim.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="lldb.html" title="LLDB" class="md-nav__link">
      LLDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="library.html" title="CS1010 I/O" class="md-nav__link">
      CS1010 I/O
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transpose" class="md-nav__link">
    transpose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#palindrome" class="md-nav__link">
    palindrome
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotate" class="md-nav__link">
    rotate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marcell" class="md-nav__link">
    marcell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bracket" class="md-nav__link">
    bracket
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="pe2-comments-and-answer-keys">PE2: Comments and Answer Keys</h1>
<h2 id="transpose">transpose</h2>
<p>This is suppose to be a give-away question.  We want to see if you can manipulate 2D arrays, including stepping through the elements, and allocating/deallocating the memory for them.</p>
<p>First, let's write some functions to allocate, read, print, transpose and free a matrix.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * Allocated and read a matrix from the standard input.  </span>
<span class="cm"> * The caller is responsible to free the matrix.  </span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] row The number of rows to read.</span>
<span class="cm"> * @param[in] col The number of columns to read.</span>
<span class="cm"> * @return    A 2D array containing the matrix.</span>
<span class="cm"> */</span>
<span class="kt">double</span><span class="o">**</span> <span class="nf">read_matrix</span><span class="p">(</span><span class="kt">long</span> <span class="n">row</span><span class="p">,</span> <span class="kt">long</span> <span class="n">col</span><span class="p">)</span> 
<span class="p">{</span>
  <span class="kt">double</span> <span class="o">**</span><span class="n">m</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span> <span class="o">*</span><span class="p">));</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cs1010_read_double_array</span><span class="p">(</span><span class="n">col</span><span class="p">);</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">m</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Allocated a 2D matrix of 0s.</span>
<span class="cm"> * The caller is responsible to free the matrix.  </span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] row The number of rows to allocate.</span>
<span class="cm"> * @param[in] col The number of columns to allocate.</span>
<span class="cm"> * @return    A 2D array containing the matrix.</span>
<span class="cm"> */</span>
<span class="kt">double</span><span class="o">**</span> <span class="nf">alloc_matrix</span><span class="p">(</span><span class="kt">long</span> <span class="n">row</span><span class="p">,</span> <span class="kt">long</span> <span class="n">col</span><span class="p">)</span> 
<span class="p">{</span>
  <span class="kt">double</span> <span class="o">**</span><span class="n">m</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span> <span class="o">*</span><span class="p">));</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">m</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Print a given 2D matrix.</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] m   The matrix to print.</span>
<span class="cm"> * @param[in] row The number of rows to print.</span>
<span class="cm"> * @param[in] col The number of columns to print.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">print_matrix</span><span class="p">(</span><span class="kt">double</span> <span class="o">**</span><span class="n">m</span><span class="p">,</span> <span class="kt">long</span> <span class="n">row</span><span class="p">,</span> <span class="kt">long</span> <span class="n">col</span><span class="p">)</span> 
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">col</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cs1010_print_double</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cs1010_println_string</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">cs1010_print_string</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Free the memory allocated for a 2D matrix.</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] m   The matrix to free.</span>
<span class="cm"> * @param[in] row The number of rows in the matrix m.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">free_matrix</span><span class="p">(</span><span class="kt">double</span> <span class="o">**</span><span class="n">m</span><span class="p">,</span> <span class="kt">long</span> <span class="n">row</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">free</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="n">free</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Transpose a given matrix m1 and store the output in m2.</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in]  m1  The given matrix to transpose.</span>
<span class="cm"> * @param[out] m2  The transposed matrix.</span>
<span class="cm"> * @param[in]  num_of_rows The number of rows in m1.</span>
<span class="cm"> * @param[in]  num_of_cols The number of rows in m2.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">transpose</span><span class="p">(</span><span class="kt">double</span> <span class="o">**</span><span class="n">m1</span><span class="p">,</span> <span class="kt">double</span> <span class="o">**</span><span class="n">m2</span><span class="p">,</span> <span class="kt">long</span> <span class="n">num_of_rows</span><span class="p">,</span> <span class="kt">long</span> <span class="n">num_of_cols</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_of_rows</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">num_of_cols</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">assert</span><span class="p">(</span><span class="n">m1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span>
      <span class="n">assert</span><span class="p">(</span><span class="n">m2</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span>
      <span class="n">m2</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">m1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>The main program then looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">num_rows</span> <span class="o">=</span> <span class="n">cs1010_read_long</span><span class="p">();</span>
  <span class="kt">long</span> <span class="n">num_cols</span> <span class="o">=</span> <span class="n">cs1010_read_long</span><span class="p">();</span>

  <span class="kt">double</span> <span class="o">**</span><span class="n">m1</span> <span class="o">=</span> <span class="n">read_matrix</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">);</span>
  <span class="kt">double</span> <span class="o">**</span><span class="n">m2</span> <span class="o">=</span> <span class="n">alloc_matrix</span><span class="p">(</span><span class="n">num_cols</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">);</span>

  <span class="n">transpose</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">);</span>

  <span class="n">print_matrix</span><span class="p">(</span><span class="n">m2</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">);</span>
  <span class="n">free_matrix</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">);</span>
  <span class="n">free_matrix</span><span class="p">(</span><span class="n">m2</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="palindrome">palindrome</h2>
<p>This is a classic programming question and is also fairly simple.  We want to see if you knows how to manipulate a string.  Here is a loop version:</p>
<div class="highlight"><pre><span></span><code><span class="kt">bool</span> <span class="nf">is_palindrome</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

  <span class="k">do</span> <span class="p">{</span>
    <span class="k">do</span> <span class="p">{</span>
      <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">isalpha</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]));</span>

    <span class="k">do</span> <span class="p">{</span>
      <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">isalpha</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">]));</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">tolower</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">])</span> <span class="o">!=</span> <span class="n">tolower</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">);</span>

  <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>The two innwer loops skip the non-alphabetical characters at the beginning and at the end of the string.  After we ensure that <code>s[start]</code> and <code>s[end]</code> are both alphabets, we compare the lower-case version.  If they are different, then it is not a palindrome and we return false.  Otherwise, we continue.   If we have exhausted all the characters in the string and we have not returned false, then the string must be a palindrome. </p>
<p>Here is a recursive version:</p>
<div class="highlight"><pre><span></span><code><span class="kt">bool</span> <span class="nf">is_palindrome</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">long</span> <span class="n">start</span><span class="p">,</span> <span class="kt">long</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&gt;=</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">isalpha</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">is_palindrome</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">isalpha</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">is_palindrome</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">tolower</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">])</span> <span class="o">==</span> <span class="n">tolower</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">is_palindrome</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="rotate">rotate</h2>
<p>Getting 4 marks for this question is trivial (using a linear search).  But trying to get all 9 marks is not so straight forward.  It requires a tweak to the binary search to solve in <span><span class="MathJax_Preview">O(\log n)</span><script type="math/tex">O(\log n)</script></span> time.  The fact that it requires <span><span class="MathJax_Preview">O(\log n)</span><script type="math/tex">O(\log n)</script></span> time hinted at the need to halve the array at every recursive call.  To decide which half to search, we first have to analyze the properties of the input.  The properties can be summarized as follows:</p>
<p><img alt="rotate" src="figures/rotate/rotate.001.png" /></p>
<p>But once you have the cases above, the code is quiet straightforward.  If <code>q</code> falls under the half that is a sorted array, then we perform binary search on that half, otherwise, we recursively call the function to search in the rotated and sorted array on the other half.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * Look for q in list[i]..list[j].</span>
<span class="cm"> *</span>
<span class="cm"> * @pre list is sorted.</span>
<span class="cm"> * @return -1 if not found, the position of q in list otherwise.</span>
<span class="cm"> */</span>
<span class="kt">long</span> <span class="nf">search</span><span class="p">(</span><span class="k">const</span> <span class="kt">long</span> <span class="n">list</span><span class="p">[],</span> <span class="kt">long</span> <span class="n">i</span><span class="p">,</span> <span class="kt">long</span> <span class="n">j</span><span class="p">,</span> <span class="kt">long</span> <span class="n">q</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">long</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">q</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
  <span class="p">}</span> 

  <span class="cm">/*</span>
<span class="cm">   * - list[i]..list[mid] is strictly increasing.  So we do binary search</span>
<span class="cm">   *   if q falls within this range.  Otherwise, we recursively search </span>
<span class="cm">   *   the other half (which is a rotated list).</span>
<span class="cm">   */</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">list</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">q</span> <span class="o">&amp;&amp;</span> <span class="n">q</span> <span class="o">&lt;=</span> <span class="n">list</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">search</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/*</span>
<span class="cm">   * - list[i]..list[mid] is rotated.  So we do a binary search on the </span>
<span class="cm">   *   other half.</span>
<span class="cm">   */</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">q</span> <span class="o">&amp;&amp;</span> <span class="n">q</span> <span class="o">&lt;=</span> <span class="n">list</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">binary_search</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">search</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Here, the function <code>binary_search</code> is the same one given in the lecture.</p>
<h2 id="marcell">marcell</h2>
<p>This question is designed to check if you know how to write efficient code.  It is an extension to <code>goldbach</code> from PE1.  The prerequisite to solving this question well is that you must know how to find a prime number in <span><span class="MathJax_Preview">O(\sqrt{n})</span><script type="math/tex">O(\sqrt{n})</script></span> time.  If you have been paying attention to Assignment 2, PE1 Comments, and Unit 22, you should have what it takes to solve this.</p>
<p>Everyone's first instict would be to write a function <code>is_prime</code> and a function <code>is_semiprime</code> to check if a number is prime or semiprime.  However, our second principle of writing efficient code <em>avoid repetitive work</em>, applies here.  If you wrote these two functions, you will notice that we need to scan through numbers between 2 to <span><span class="MathJax_Preview">\sqrt{n}</span><script type="math/tex">\sqrt{n}</script></span> for an input <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> for both functions.  So we could combine them into one function:</p>
<div class="highlight"><pre><span></span><code><span class="kt">long</span> <span class="nf">is_prime_or_semiprime</span><span class="p">(</span><span class="kt">long</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">NEITHER</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">i</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">SEMIPRIME</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="n">NEITHER</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">PRIME</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><ins class="critic">Update:</ins> Line 6 of the function was originally:
<div class="highlight"><pre><span></span><code>      <span class="k">if</span> <span class="p">(</span><span class="n">is_prime_or_semiprime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="n">PRIME</span> <span class="o">&amp;&amp;</span> <span class="n">is_prime_or_semiprime</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="n">PRIME</span><span class="p">)</span> <span class="p">{</span>
</code></pre></div></p>
<p>We have replaced the line with
<div class="highlight"><pre><span></span><code>      <span class="k">if</span> <span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">i</span><span class="p">))</span> <span class="p">{</span>
</code></pre></div></p>
<p>so that the running time can be analyzed to be <span><span class="MathJax_Preview">O(\sqrt{n})</span><script type="math/tex">O(\sqrt{n})</script></span> in a more straight forward manner.  </p>
<p>With the above function, finding the number of pairs is not much different from <code>goldbach</code>:</p>
<div class="highlight"><pre><span></span><code>  <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">is_prime_or_semiprime</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">p1</span> <span class="o">==</span> <span class="n">PRIME</span> <span class="o">||</span> <span class="n">p1</span> <span class="o">==</span> <span class="n">SEMIPRIME</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">long</span> <span class="n">j</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">i</span><span class="p">;</span>
      <span class="kt">int</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">is_prime_or_semiprime</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">((</span><span class="n">p1</span> <span class="o">==</span> <span class="n">PRIME</span> <span class="o">&amp;&amp;</span> <span class="n">p2</span> <span class="o">==</span> <span class="n">SEMIPRIME</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">p1</span> <span class="o">==</span> <span class="n">SEMIPRIME</span> <span class="o">&amp;&amp;</span> <span class="n">p2</span> <span class="o">==</span> <span class="n">PRIME</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>

<h2 id="bracket">bracket</h2>
<p>This is meant to be the hardest question that separates A+ from A students.  Note that, if we ignore condition 2(i) (a valid string can be a concatenation of two valid strings), a valid string is just a "palindrome" consisting of characters <code>({[&lt;&gt;]})</code>, except that we match the opening brackets to the closing brackets instead of the same characters.  If you solve that by modifying the recursive version of the palindrome code above, you should get some partial correctness marks.</p>
<p>The tricky part is to handle condition 2(i).  So our recursive function has to tell us, if the input string contains a valid string, and where does it ends.  One solution is to write a recursive function that "consumes" a valid string (and only a valid string) recursively, and returns the next character that is unconsumed.  If the next character is <code>\0</code>, then the string must be a valid string, since everything is consumed.</p>
<p>Let's first write a couple of helper functions:</p>
<div class="highlight"><pre><span></span><code><span class="kt">bool</span> <span class="nf">is_open</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;(&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;{&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;[&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;&lt;&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>The above checks if a given character is an open bracket.</p>
<div class="highlight"><pre><span></span><code><span class="kt">bool</span> <span class="nf">is_matching_close</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;(&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">==</span> <span class="sc">&#39;)&#39;</span><span class="p">)</span> <span class="o">||</span>
    <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;{&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">==</span> <span class="sc">&#39;}&#39;</span><span class="p">)</span> <span class="o">||</span>
    <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;&lt;&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">==</span> <span class="sc">&#39;&gt;&#39;</span><span class="p">)</span> <span class="o">||</span>
    <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;[&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">==</span> <span class="sc">&#39;]&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>The above checks if a pair of input characters are matching brackets.</p>
<p>And now, the recursive function to consume a valid string.  It returns the index to the first character that is not consumed.</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="nf">consume_valid</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="n">begin</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">begin</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">begin</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">is_open</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">begin</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">begin</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="n">consume_valid</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">begin</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">is_matching_close</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">begin</span><span class="p">],</span> <span class="n">string</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">consume_valid</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">begin</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Let's first look at Line 2-4.  If the input string is empty, then by Rule 1 it is always valid.</p>
<p>Line 5-7 checks if the input string starts with a closing bracket.  If so, it cannot be a valid string and the function consumes nothing.  By Rule 2, it must starts with an open bracket.  So we return <code>begin</code> since this is the index to the first unconsumed character.</p>
<p>When we reach Line 9, we can assert that the string begins with an open bracket.  So we consume the string from index <code>begin + 1</code> onwards recursively.  By wishful thinking, we can assume that this function will consume a valid string and returns the index of the first unconsumed character.  </p>
<p>We now check on Line 10, if this unconsumed character (<code>string[end]</code>) is a matching close bracket to <code>string[begin]</code>, following Rule 2(ii).  If it does not match, then we return <code>begin</code> (Line 13) since <code>string[begin]</code> is the first unmatched character (so the function spews out all the consumed characters and un-consumes them).  </p>
<p>If Line 10 checks out, then the string from <code>begin</code> to <code>end</code> is valid, and we continue to recursively consume from character <code>end + 1</code> onwards.</p>
<p>In <code>main</code>, we call the function as follows:</p>
<div class="highlight"><pre><span></span><code>  <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="n">is_valid</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cs1010_println_string</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> 
    <span class="n">cs1010_println_string</span><span class="p">(</span><span class="s">&quot;no&quot;</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="pe2.html" title="Info About PE2" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Info About PE2
              </div>
            </div>
          </a>
        
        
          <a href="about.html" title="About CS1010" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                About CS1010
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2018
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>